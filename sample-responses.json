{
  "api_endpoints": {
    "generate_remittances": {
      "method": "POST",
      "path": "/api/v1/generate-remittances-for-all-users",
      "description": "Generate remittances for all users based on eligible work",
      "sample_request": {
        "query_params": {
          "period_start": "2026-01-01",
          "period_end": "2026-01-31"
        }
      },
      "sample_response": {
        "settlement": {
          "id": "b071096c-3ff2-4737-b670-21a1c57caa60",
          "period_start": "2026-01-01",
          "period_end": "2026-01-31",
          "run_at": "2026-01-30T16:25:30.263902",
          "status": "COMPLETED",
          "total_remittances_generated": 1
        },
        "remittances_created": 1,
        "total_gross_amount": "2520.00",
        "total_net_amount": "2320.00",
        "message": "Successfully generated 1 remittances for period 2026-01-01 to 2026-01-31"
      }
    },
    "list_all_worklogs": {
      "method": "GET",
      "path": "/api/v1/list-all-worklogs",
      "description": "List all worklogs with filtering and amount information",
      "sample_requests": [
        {
          "description": "Get all worklogs without filter",
          "query_params": {
            "skip": 0,
            "limit": 100
          },
          "sample_response": {
            "data": [
              {
                "task_identifier": "TASK-001-SIMPLE",
                "id": "ec0d2195-c32e-4edf-b501-bd2010d07c39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.298126",
                "updated_at": "2026-01-30T16:24:54.298134",
                "total_amount": "500.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-002-MONTH1",
                "id": "e5223db8-3ba2-4626-bdfe-2c20dd76fb39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.303904",
                "updated_at": "2026-01-30T16:24:54.303910",
                "total_amount": "800.0000",
                "is_remitted": true
              },
              {
                "task_identifier": "TASK-002-MONTH2",
                "id": "15f27f77-1c1a-4d97-85e1-0dff32fd8190",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.309248",
                "updated_at": "2026-01-30T16:24:54.309252",
                "total_amount": "500.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-003-FAILED",
                "id": "5abb3df7-5409-452b-9c41-57458837378a",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.312978",
                "updated_at": "2026-01-30T16:24:54.312984",
                "total_amount": "1440.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-004-PARTIAL",
                "id": "aa553606-fb3d-40f1-b545-dc93f70d8235",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.317222",
                "updated_at": "2026-01-30T16:24:54.317227",
                "total_amount": "630.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-005-MULTIMONTH",
                "id": "042c12e7-cb78-4026-b1dd-9be0b4d389c7",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.320166",
                "updated_at": "2026-01-30T16:24:54.320171",
                "total_amount": "660.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-006-DELETED",
                "id": "7f611ab2-0de3-4553-bcb0-012d55956108",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.321539",
                "updated_at": "2026-01-30T16:24:54.321544",
                "total_amount": "250.0000",
                "is_remitted": false
              }
            ],
            "count": 7
          }
        },
        {
          "description": "Get only UNREMITTED worklogs",
          "query_params": {
            "remittanceStatus": "UNREMITTED"
          },
          "sample_response": {
            "data": [
              {
                "task_identifier": "TASK-001-SIMPLE",
                "id": "ec0d2195-c32e-4edf-b501-bd2010d07c39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.298126",
                "updated_at": "2026-01-30T16:24:54.298134",
                "total_amount": "500.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-002-MONTH2",
                "id": "15f27f77-1c1a-4d97-85e1-0dff32fd8190",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.309248",
                "updated_at": "2026-01-30T16:24:54.309252",
                "total_amount": "500.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-003-FAILED",
                "id": "5abb3df7-5409-452b-9c41-57458837378a",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.312978",
                "updated_at": "2026-01-30T16:24:54.312984",
                "total_amount": "1440.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-004-PARTIAL",
                "id": "aa553606-fb3d-40f1-b545-dc93f70d8235",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.317222",
                "updated_at": "2026-01-30T16:24:54.317227",
                "total_amount": "630.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-005-MULTIMONTH",
                "id": "042c12e7-cb78-4026-b1dd-9be0b4d389c7",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.320166",
                "updated_at": "2026-01-30T16:24:54.320171",
                "total_amount": "660.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-006-DELETED",
                "id": "7f611ab2-0de3-4553-bcb0-012d55956108",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.321539",
                "updated_at": "2026-01-30T16:24:54.321544",
                "total_amount": "250.0000",
                "is_remitted": false
              }
            ],
            "count": 6
          }
        },
        {
          "description": "Get only REMITTED worklogs",
          "query_params": {
            "remittanceStatus": "REMITTED"
          },
          "sample_response": {
            "data": [
              {
                "task_identifier": "TASK-002-MONTH1",
                "id": "e5223db8-3ba2-4626-bdfe-2c20dd76fb39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.303904",
                "updated_at": "2026-01-30T16:24:54.303910",
                "total_amount": "800.0000",
                "is_remitted": true
              }
            ],
            "count": 1
          }
        },
        {
          "description": "Pagination example",
          "query_params": {
            "skip": 0,
            "limit": 10
          },
          "sample_response": {
            "data": [
              {
                "task_identifier": "TASK-001-SIMPLE",
                "id": "ec0d2195-c32e-4edf-b501-bd2010d07c39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.298126",
                "updated_at": "2026-01-30T16:24:54.298134",
                "total_amount": "500.0000",
                "is_remitted": false
              },
              {
                "task_identifier": "TASK-002-MONTH1",
                "id": "e5223db8-3ba2-4626-bdfe-2c20dd76fb39",
                "worker_user_id": "681bf05d-761a-41b2-b543-8fe3d907ffdf",
                "created_at": "2026-01-30T16:24:54.303904",
                "updated_at": "2026-01-30T16:24:54.303910",
                "total_amount": "800.0000",
                "is_remitted": true
              }
            ],
            "count": 7
          }
        }
      ]
    }
  },
  "sample_scenarios": {
    "scenario_1_simple_happy_path": {
      "description": "Worker logs 10 hours @ $50/hr, gets paid $500",
      "worklog_amount": "500.00",
      "remittance_status": "PENDING"
    },
    "scenario_2_retroactive_adjustment": {
      "description": "Month 1 paid $1000, Month 2 has $200 deduction + $500 new work = $300 net",
      "month_1_paid": "1000.00",
      "month_2_gross": "500.00",
      "month_2_adjustment": "-200.00",
      "month_2_net": "300.00"
    },
    "scenario_3_failed_settlement_retry": {
      "description": "Failed settlement of $1440 gets reconciled in next run",
      "original_amount": "1440.00",
      "original_status": "FAILED",
      "reconciled_in_next_period": true
    },
    "scenario_4_partial_settlement": {
      "description": "2 segments paid ($360), 1 segment unpaid ($270)",
      "paid_amount": "360.00",
      "unpaid_amount": "270.00",
      "total_worklog_amount": "630.00"
    },
    "scenario_5_deleted_segment": {
      "description": "Active segment $250 + deleted segment $150 (excluded) = $250 payable",
      "active_segment": "250.00",
      "deleted_segment_excluded": "150.00",
      "actual_payable": "250.00"
    }
  },
  "notes": {
    "decimal_precision": "All monetary values use DECIMAL(10,2) for precision",
    "double_payment_prevention": "RemittanceLine junction table prevents paying same work twice",
    "soft_delete_support": "Time segments with deleted_at are excluded from calculations",
    "idempotency": "Settlement runs can be executed multiple times safely",
    "retroactive_adjustments": "Adjustments can be applied to previously settled work"
  }
}
